{#
  Title: Full Width CTA
  Description: Full Width CTA
  Category: formatting
  Icon: cover-image
  Keywords: cta
  Mode: edit
  SupportsAlign: center
  SupportsMode: false
  SupportsMultiple: true
#}

{% if fields.margin_options =='nmb' %}
    {% set marginOptions = 'translate-y-20 -mt-20' %}
{% elseif fields.margin_options =='nmt' %}
    {% set marginOptions = '-translate-y-20 -mb-20' %}
{% elseif fields.margin_options =='def' %}
    {% set marginOptions = ' ' %}
{% elseif fields.margin_options =='ept' %}
    {% set marginOptions = 'pt-32' %}
{% elseif fields.margin_options =='epb' %}
    {% set marginOptions = 'pb-32' %}
{% endif %}

<div class="container relative flex flex-col-reverse md:flex-row flex-wrap px-4 md:px-8 md:flex-nowrap z-10 {{ marginOptions }}">

    <div class="flex flex-wrap w-full p-8 text-white lg:w-1/2 bg-primary-dark">

        {% for media_item in fields.full_width_cta %}
      
            {% if media_item.acf_fc_layout == 'text' %}
                <p class="w-full h2">{{ media_item.heading }}</p>
            {% endif %}

            {% if media_item.acf_fc_layout == 'text' %}
                <p class="w-full pb-3">{{ media_item.content_section }}</p>
            {% endif %}

            {% if media_item.acf_fc_layout == 'text' %}

                {% if 'button' in media_item.actions %}

                    <div class="flex w-full" data-animate="fadeIn">
                    
                        {% for item in media_item.button %}

                            {% include "_components/button.twig" with {
                            buttonText : item.text,
                            buttonColour : item.colour,
                            buttonLink : item.link.link,
                            buttonClass : "px-6 py-2 mt-2 font-bold md:mb-0"
                            } %}

                        {% endfor %}

                    </div>
                    
                {% endif %}

                {% if 'number' in media_item.actions %}

                    <span class="relative flex w-3 h-3 mt-2 mr-2">
                        <span class="absolute inline-flex w-full h-full bg-green-600 rounded-full opacity-85 animate-ping"></span>
                        <span class="relative inline-flex w-3 h-3 bg-green-500 rounded-full"></span>
                    </span>

                    <p class="phone">Call us <span class="text-lg font-bold">0115 647 7200</span></p>

                {% endif %}
                
            {% endif %}

        {% endfor %}

    </div>

    <div class="relative flex flex-wrap w-full overflow-hidden text-white h-28 md:h-auto md:w-1/2 bg-primary-light">

    {% for media_item in fields.full_width_cta %}

        {% if media_item.acf_fc_layout == 'image' %}

            {# <img class="absolute" src="{{ Image((media_item.cta_image)).src|resize(900, 900) }}" /> #}

            {# <pre>{{ dump(media_item.cta_image) }}</pre> #}

            {% include "_views/_components/picture.twig" with {
                source: media_item.cta_image.url,
                pictureClasses: "absolute",
                breakpoints: {
                    "1024px" : {
                        classes: 'w-full object-contain',
                        w: 600,
                        h: 300,
                        crop: 'center'
                    },
                    "768px" : {
                        classes: 'w-full object-contain',
                        w: 300,
                        h: 400,
                        crop: 'center'
                    },
                },
                img: {
                    classes: 'w-full',
                    alt: media_item.cta_image.alt,
                    w: 500,
                    h: 250,
                    crop: 'center',
                }
            } %}

        {% endif %}

     {% endfor %}

    </div>
    
</div>